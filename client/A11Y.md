# Accessibility Testing Guide

This document explains how to run and write accessibility tests for HIVE-R.

## Quick Start

```bash
# Run all accessibility tests
cd client && npm run test:a11y

# Run full test suite with coverage
npm run test:coverage

# Run tests in watch mode during development
npm test
```

## Test Structure

```
client/tests/
├── setup.ts              # Test setup with axe matchers
├── a11y-utils.tsx        # Accessibility test utilities
└── accessibility/        # Component a11y tests
    ├── NavBar.a11y.test.tsx
    ├── LoginPage.a11y.test.tsx
    ├── PasswordStrength.a11y.test.tsx
    ├── LandingPage.a11y.test.tsx
    └── DashboardPage.a11y.test.tsx
```

## Writing New Tests

```tsx
import { describe, it, expect } from 'vitest';
import { renderA11y, a11yAssertions } from '../a11y-utils';
import { MyComponent } from '../../src/components/MyComponent';

describe('MyComponent Accessibility', () => {
    it('should have no accessibility violations', async () => {
        const { axeResults } = await renderA11y(<MyComponent />);
        expect(axeResults).toHaveNoViolations();
    });
});
```

## Lighthouse CI

Lighthouse audits run in CI and require **90% minimum accessibility score**.

```bash
# Run locally
npm install -g @lhci/cli
cd client && npm run build && npm run preview &
lhci autorun
```

## WCAG 2.1 AA Checklist

| Criterion | Description |
|-----------|-------------|
| 1.1.1 | Non-text content has alt text |
| 1.4.3 | Color contrast ratio ≥ 4.5:1 |
| 2.1.1 | All functionality keyboard accessible |
| 2.4.4 | Link purpose clear from text |
| 3.3.2 | Form inputs have labels |
| 4.1.2 | Name, role, value for UI components |

## CI Integration

The `accessibility.yml` workflow runs on every PR:
1. **Vitest a11y tests** — Component-level axe checks
2. **Lighthouse CI** — Full page audits with score thresholds
